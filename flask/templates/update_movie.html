<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>DS Cinemas</title>
    <link href="https://fonts.googleapis.com/css2?family=Grenze+Gotisch:wght@500&family=Josefin+Sans:ital,wght@1,500&display=swap" rel="stylesheet"> 
    <style>

      *{
       padding:0;
       margin: 0;
       border: border-box;
      
   }
   
   body {
      background-image: url('https://g.foolcdn.com/editorial/images/577464/a-full-movie-theater-with-a-blank-screen.jpg');
      background-repeat: no-repeat;
      background-size: cover;
      height: 100%;
   
   }
   
   #screen_div{
      left: 13%;
      top: 5%;
      height: 83%;
   }

   .wrap{
    word-wrap: break-word;
    word-break: break-all;
   }
   
    </style>
</head>
<body>
    <div id="screen_div" class='w-75 position-absolute'>
        <h1 style="text-shadow: 3px 3px 4px #000; font-family: 'Josefin Sans', sans-serif;" class='text-center'>DS Cinemas</h1>
       
        <div style='position: absolute;left: -19px;top: 11px;width: 32%;' class='d-flex justify-content-around align-items-center'>
            <h3 style='font-style:italic;' class='text-center'>{{logged_user}}</h3>
            <form class='d-flex justify-content-md-around' method='POST'>
              <button class='btn btn-secondary' name='submit' value='Home' type='submit'>Home</button>
            </form>
            <form class='d-flex justify-content-md-around' method='POST'>
              <button class='btn btn-danger' name='submit' value='log_out' type='submit'>Log out</button>
            </form>
        </div> 
    
      <div  class='w-50 mx-auto border border-primary rounded p-3 mt-3'>
        <form class='form-group' method="POST">
            {{ findmovieform.f_title.label }}
            {{ findmovieform.f_title(class_="form-control") }}
            <input type="submit" name='submit' class='mt-3 mb-3 btn btn-primary' value="Find_movie">
        </form>
        <form  class='form-group' method="POST">

            {% with messages = get_flashed_messages(category_filter=['vars1']) %}
                {% if messages %}
                     {% for message in messages %}            
                        {{updatemovieform.prev_title(class_="form-control" ,value=message)}}
                      {% endfor%}
                 {% endif %}
            {% endwith %} 
           
                {% with messages = get_flashed_messages(category_filter=['vars1']) %}
                {% if messages %}
                    {% for message in messages %}  
                    <div class="d-flex justify-content-md-around">          
                        <div class="form-group">
                            {{updatemovieform.u_title.label}}
                            {{updatemovieform.u_title(class_="form-control" ,value=message)}}
                        </div>
                        {% endfor%}
                    {% endif %}
                {% endwith %} 
        
                {% with messages = get_flashed_messages(category_filter=['vars2']) %}
                    {% if messages %}
                        {% for message in messages %}      
                            <div class="form-group">
                                {{updatemovieform.u_release_date.label}}
                                {{updatemovieform.u_release_date(class_="form-control", value=message)}}
                            </div>
                        </div>
                        {% endfor%}
                    {% endif %}
                {% endwith %} 
           
           
           
                {% with messages = get_flashed_messages(category_filter=['vars3']) %}
                {% if messages %}
                    {% for message in messages %}
                    <div class="d-flex justify-content-md-around">      
                <div class="form-group">
                    {{updatemovieform.u_description.label}}
                    {{updatemovieform.u_description(class_="wrap form-control",value=message)}}
                </div>
                {% endfor%}
                {% endif %}
                {% endwith %} 
        
                {% with messages = get_flashed_messages(category_filter=['vars4']) %}
                {% if messages %}
                    {% for message in messages %}      
                <div class="form-group">
                    {{updatemovieform.u_screening_dates.label}}
                    {{updatemovieform.u_screening_dates(class_="form-control",value=message)}}
                </div>
            </div>
            <input type="submit" name='submit' class='mt-3 mb-3 btn btn-primary' value="Update_movie">
    
            {% endfor%}
            {% endif %}
            {% endwith %} 


      
        </form>
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            {% for category,message in messages %}
                {%if category=='updated'%}
                    <div class='alert alert-success'>
                        {{message}}
                    </div>
                {% endif %}
                {%if category=='not_found'%}
                <div class='alert alert-danger'>
                    {{message}}
                </div>
            {% endif %}
        {% endfor%}
        {% endif %}
        {% endwith %} 
        </div>
        </div>
</body>
</html>
